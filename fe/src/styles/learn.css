/* ========== Reset nháº¹ ========== */
* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color: #222;
}

/* ========== Theme tokens ========== */
:root {
    --bg: #fafafa;
    --surface: #ffffff;
    --text: #222;
    --muted: #6b7280;
    --primary: #2563eb;
    --ring: #d1d5db;
    --border: #e5e7eb;
    --shadow: 0 8px 24px rgba(0, 0, 0, .06);
    --radius: 16px;
}

/* ========== Layout tá»•ng ========== */
body {
    display: block;
    background: var(--bg);
}


/* ========== Main Learn ========== */
.learn {
    padding: 24px 28px;
}

.learn__header {
    margin-bottom: 16px;
    background: #e0d3ee;
    /* tÃ­m nháº¡t */
    border: 1px solid #e9d5ff;
    border-radius: 16px;
    padding: 12px 16px;
    box-shadow: var(--shadow);
}

.learn__title {
    margin: 0 0 6px 0;
    font-size: 24px;
    font-weight: 800;
    letter-spacing: .3px;
    color: #b075f8;
}

.learn__body {
    display: grid;
    grid-template-columns: 250px 800px;
    /* Emotion list | Media area */
    gap: 100px;
    justify-content: center;
    min-height: 80vh;
}

/* ========== Cá»™t trÃ¡i: CÃC Cáº¢M XÃšC ========== */
.emotion-list {
    background: #c28bf2;
    border: 2px solid #bb86fc;
    border-radius: var(--radius);
    padding: 14px;
    box-shadow: var(--shadow), 0 0 12px #bb86fc, 0 0 24px rgba(187, 134, 252, 0.5);
}

.emotion-list__title {
    margin: 0 0 10px 0;
    font-size: 14px;
    color: #f3e8ff;
    font-weight: 700;
    letter-spacing: .5px;
}

.emotion-list__items {
    display: flex;
    flex-direction: column;
    gap: 12px;
    list-style: none;
    padding: 0;
    margin: 0;
    height: calc(100vh - 220px);
}

.emotion-list__items>li {
    flex: 1;
    display: flex;
}

.emotion-pill {
    width: 100%;
    height: 100%;
    min-height: 64px;
    padding: 16px 20px;
    background: #f8fafc;
    border: 1px solid var(--border);
    color: var(--text);
    border-radius: 999px;
    cursor: pointer;
    font-size: 18px;
    transition: transform .18s ease, box-shadow .18s ease, background-color .18s ease, border-color .18s ease, filter .18s ease;
}

.emotion-pill:hover {
    border-color: #cbd5e1;
    background: #f1f5f9;
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 6px 18px rgba(0, 0, 0, .12);
}

.emotion-pill[aria-current="true"],
.emotion-pill.active {
    background: #eef2ff;
    border-color: #c7d2fe;
    color: #1e40af;
}

/* ========== Khung media: Video/áº¢nh + mÅ©i tÃªn ========== */
.media-carousel {
    position: relative;
    background: var(--surface);
    border: 2px solid #bb86fc;
    border-radius: var(--radius);
    padding: 18px;
    box-shadow: var(--shadow), 0 0 12px #bb86fc, 0 0 24px rgba(187, 134, 252, 0.5);
    min-height: 520px;
    /* táº¡o khung giá»‘ng wireframe */
    display: grid;
    place-items: center;
}

/* NhÃ£n mÃ´ táº£ náº±m trong khung media, phá»§ trÃªn video */
.media-carousel__label {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 3;
    padding: 6px 12px;
    font-size: 14px;
    font-weight: 700;
    color: #7c3aed;
    background: rgba(243, 232, 255, 0.9);
    border: 1px solid #e9d5ff;
    border-radius: 999px;
    box-shadow: var(--shadow);
    pointer-events: none;
}

.media-carousel__stage {
    width: 100%;
    max-width: 900px;
    aspect-ratio: 16/9;
    margin: 0;
    background: #fff;
    border: 0;
    /* viá»n Ä‘áº­m hÆ¡n Ä‘á»ƒ giá»‘ng khung */
    border-radius: 24px;
    display: grid;
    place-items: center;
    padding: 0;
}

.media-carousel__video,
.media-carousel__stage img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 24px;
    outline: none;
    border: 2px solid #d4d4d8;
    box-sizing: border-box;
}

.media-carousel__caption {
    margin-top: 8px;
    font-size: 13px;
    color: var(--muted);
    text-align: center;
}

/* Custom play/pause overlay */
.media-overlay-controls {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    pointer-events: none;
    /* chá»‰ nháº­n sá»± kiá»‡n á»Ÿ nÃºt con */
    z-index: 3;
}

.media-overlay-controls .play-toggle {
    pointer-events: auto;
    width: 76px;
    height: 76px;
    border-radius: 999px;
    border: 2px solid #e9d5ff;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: grid;
    place-items: center;
    color: #7c3aed;
    font-size: 30px;
    line-height: 1;
    cursor: pointer;
    box-shadow: 0 8px 26px rgba(0, 0, 0, .16), 0 0 0 2px rgba(124, 58, 237, .12) inset;
    transition: transform .18s ease, box-shadow .18s ease, background-color .18s ease, opacity .18s ease;
}

.media-overlay-controls .play-toggle:hover {
    transform: scale(1.06);
    box-shadow: 0 12px 32px rgba(0, 0, 0, .2), 0 0 0 2px rgba(124, 58, 237, .18) inset;
}

.media-overlay-controls.is-playing .play-toggle {
    opacity: 0;
    pointer-events: none;
    /* áº©n khi Ä‘ang phÃ¡t */
}

/* NÃºt mÅ©i tÃªn trÃ¡i/pháº£i */
.media-carousel__nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 56px;
    height: 56px;
    border-radius: 999px;
    border: 2px solid #e9d5ff;
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: grid;
    place-items: center;
    color: #7c3aed;
    font-size: 26px;
    line-height: 1;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 6px 20px rgba(0, 0, 0, .12), 0 0 0 2px rgba(124, 58, 237, .08) inset;
    transition: transform .18s ease, box-shadow .18s ease, background-color .18s ease, color .18s ease, opacity .18s ease;
    z-index: 3;
}

.media-carousel__nav--prev {
    left: 16px;
}

.media-carousel__nav--next {
    right: 16px;
}

.media-carousel__nav:hover {
    background: rgba(255, 255, 255, 0.9);
    transform: translateY(-50%) scale(1.06);
    box-shadow: 0 10px 28px rgba(0, 0, 0, .16), 0 0 0 2px rgba(124, 58, 237, .14) inset;
}

.media-carousel__nav:active {
    transform: translateY(-50%) scale(0.98);
    box-shadow: 0 4px 14px rgba(0, 0, 0, .18), 0 0 0 2px rgba(124, 58, 237, .18) inset;
}

.media-carousel__nav:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(124, 58, 237, .35), 0 6px 20px rgba(0, 0, 0, .12);
}

/* Dots (tÃ¹y chá»n) */
.media-carousel__dots {
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 6px;
}

.media-carousel__dots button {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    border: 0;
    background: #d1d5db;
    cursor: pointer;
}

.media-carousel__dots button[aria-current="true"] {
    background: var(--primary);
}

/* ========== Responsive ========== */
@media (max-width: 1080px) {
    .learn__body {
        grid-template-columns: 180px 1fr;
    }
}

@media (max-width: 860px) {
    .learn {
        padding: 18px;
    }
}

@media (max-width: 720px) {
    .learn__body {
        grid-template-columns: 1fr;
        /* Xáº¿p dá»c */
    }

    .emotion-list {
        order: 2;
    }

    .media-carousel {
        order: 1;
        min-height: 420px;
    }
}

/* ===== Icon + mÃ u cho cÃ¡c nÃºt cáº£m xÃºc ===== */
.emotion-pill {
    position: relative;
    padding-left: 50px;
    /* chá»«a chá»— cho icon */
    font-weight: 600;
}

/* Icon máº·c Ä‘á»‹nh (sá»­a theo emotion á»Ÿ dÆ°á»›i) */
.emotion-pill::before {
    content: "ðŸ™‚";
    position: absolute;
    left: 16px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 22px;
}

/* HAPPY */
.emotion-pill[data-emotion="happy"] {
    background: #fff7cc;
    /* vÃ ng nháº¡t */
    border-color: #fde68a;
    color: #92400e;
}

.emotion-pill[data-emotion="happy"]::before {
    content: "ðŸ˜Š";
}

/* SAD */
.emotion-pill[data-emotion="sad"] {
    background: #e0f2fe;
    /* xanh dÆ°Æ¡ng nháº¡t */
    border-color: #bae6fd;
    color: #0c4a6e;
}

.emotion-pill[data-emotion="sad"]::before {
    content: "ðŸ˜¢";
}

/* ANGRY */
.emotion-pill[data-emotion="angry"] {
    background: #fee2e2;
    /* Ä‘á» nháº¡t */
    border-color: #fecaca;
    color: #7f1d1d;
}

.emotion-pill[data-emotion="angry"]::before {
    content: "ðŸ˜ ";
}

/* FEAR */
.emotion-pill[data-emotion="fear"] {
    background: #ede9fe;
    /* tÃ­m nháº¡t */
    border-color: #ddd6fe;
    color: #4c1d95;
}

.emotion-pill[data-emotion="fear"]::before {
    content: "ðŸ˜¨";
}

/* SURPRISE */
.emotion-pill[data-emotion="surprise"] {
    background: #ffedd5;
    /* cam nháº¡t */
    border-color: #fed7aa;
    color: #7c2d12;
}

.emotion-pill[data-emotion="surprise"]::before {
    content: "ðŸ˜®";
}

/* DISGUST */
.emotion-pill[data-emotion="disgust"] {
    background: #dcfce7;
    /* xanh lÃ¡ nháº¡t */
    border-color: #bbf7d0;
    color: #14532d;
}

.emotion-pill[data-emotion="disgust"]::before {
    content: "ðŸ¤¢";
}

/* NEUTRAL */
.emotion-pill[data-emotion="neutral"] {
    background: #f4f4f5;
    /* xÃ¡m nháº¡t */
    border-color: #e4e4e7;
    color: #3f3f46;
}

.emotion-pill[data-emotion="neutral"]::before {
    content: "ðŸ˜";
}

/* Tráº¡ng thÃ¡i Ä‘ang chá»n */
.emotion-pill[aria-current="true"],
.emotion-pill.active {
    outline: 2px solid rgba(0, 0, 0, .08);
    border-width: 2px;
    border-color: #7c3aed;
    filter: saturate(1.6) brightness(0.88);
    box-shadow: 0 0 0 3px rgba(124, 58, 237, .35), 0 0 0 2px rgba(255, 255, 255, .45) inset;
}

/* ===== Khung media ná»n tÃ­m ===== */
.media-carousel {
    background: #c28bf2;
    /* tÃ­m (purple-600) */
    border-color: #bb86fc;
    box-shadow: var(--shadow), 0 0 12px #bb86fc, 0 0 24px rgba(187, 134, 252, 0.5);
}

.media-carousel__stage {
    background: transparent;
    /* trong suá»‘t Ä‘á»ƒ lá»™ ná»n tÃ­m */
    border: 2px solid rgba(255, 255, 255, .4);
}

.media-carousel__caption {
    color: #f3e8ff;
    /* chá»¯ sÃ¡ng trÃªn ná»n tÃ­m */
}

/* NÃºt mÅ©i tÃªn ná»•i báº­t trÃªn ná»n tÃ­m */
.media-carousel__nav {
    background: #ffffff;
    border-color: #e9d5ff;
}

.media-carousel__nav:hover {
    background: #f5f3ff;
}

.media-carousel__stage {
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    overflow: hidden !important;
    aspect-ratio: 16 / 9;
    width: 100%;
    max-width: 900px;
    /* fallback chiá»u cao khi mÃ n hÃ¬nh tháº¥p */
    max-height: min(85vh, 900px);
    background: #0000;
    /* trong suá»‘t Ä‘á»ƒ tháº¥y ná»n tÃ­m */
    border-radius: 24px;
}

/* áº¢nh & Video chiáº¿m trá»n khung, giá»¯ tá»‰ lá»‡ (khÃ´ng crop) */
.media-carousel__stage img,
.media-carousel__video {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    /* Ä‘á»•i tá»« cover -> contain Ä‘á»ƒ khÃ´ng cáº¯t ná»™i dung */
    display: block;
    border-radius: 18px;
    background: #000;
    /* ná»n Ä‘en phÃ­a sau video cho Ä‘áº¹p máº¯t */
    outline: none;
}

/* Náº¿u muá»‘n video luÃ´n full theo chiá»u ngang mÃ  khÃ´ng vÆ°á»£t khung, giá»¯ tá»‰ lá»‡ */
.media-carousel__video {
    max-width: 100%;
    max-height: 100%;
}

/* Thu nhá» khung tá»•ng Ä‘á»ƒ bá»›t â€œÄ‘á»‡mâ€ dá»c, video Ä‘á»¡ cÃ³ cáº£m giÃ¡c nhá» */
.media-carousel {
    padding: 16px !important;
    min-height: unset !important;
    /* bá» min-height cá»‘ Ä‘á»‹nh 520px */
}

/* Responsive tweak: khi mÃ n nhá», Æ°u tiÃªn chiá»u cao há»£p lÃ½ */
@media (max-width: 720px) {
    .media-carousel__stage {
        max-height: 50vh;
        border-radius: 16px;
    }

    .media-carousel__stage img,
    .media-carousel__video {
        border-radius: 12px;
    }
}

/* ====== FIX Cá»°C Máº NH: Video/áº¢nh fill khung chuáº©n 16:9 ====== */

/* Khung ngoÃ i: bá»›t â€œÄ‘á»‡mâ€ Ä‘á»ƒ khung khÃ´ng lÃ m nhá» media */
.media-carousel {
    padding: 12px !important;
    min-height: unset !important;
}

/* Khung stage: tá»± táº¡o tá»· lá»‡ 16:9, bá» padding, cho phÃ©p phá»§ kÃ­n */
.media-carousel__stage {
    position: relative !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 900px !important;
    aspect-ratio: 16 / 9 !important;
    overflow: hidden !important;
    display: block !important;
    /* trÃ¡nh grid/flex áº£nh hÆ°á»Ÿng kÃ­ch thÆ°á»›c con */
    background: transparent !important;
    border-radius: 24px !important;
}

/* Táº¤T Cáº¢ video/img bÃªn trong stage Ä‘á»u bá»‹ Ã©p full khung */
.media-carousel__stage>video,
.media-carousel__stage>img,
.media-carousel__stage video,
.media-carousel__stage img {
    position: absolute !important;
    inset: 0 !important;
    /* top/right/bottom/left = 0 */
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    /* fill khung, loáº¡i bá» viá»n Ä‘en */
    background: transparent !important;
    /* ná»n Ä‘en cho video Ä‘áº¹p hÆ¡n */
    border-radius: 24px !important;
    outline: none !important;
    border: 2px solid #d4d4d8 !important;
    box-sizing: border-box !important;
}

/* NÃšT Ä‘iá»u hÆ°á»›ng ná»•i phÃ­a trÃªn media */
.media-carousel__nav {
    z-index: 2 !important;
}

/* Mobile: giáº£m chiá»u cao cho vá»«a mÃ n */
@media (max-width: 720px) {
    .media-carousel__stage {
        aspect-ratio: 16 / 9 !important;
        max-height: 80vh !important;
        border-radius: 16px !important;
    }

    .media-carousel__stage>video,
    .media-carousel__stage>img,
    .media-carousel__stage video,
    .media-carousel__stage img {
        border-radius: 16px !important;
    }
}