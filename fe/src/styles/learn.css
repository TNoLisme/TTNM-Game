/* ========== Reset nháº¹ ========== */
* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color: #222;
}

/* ========== Theme tokens ========== */
:root {
    --bg: #fafafa;
    --surface: #ffffff;
    --text: #222;
    --muted: #6b7280;
    --primary: #2563eb;
    --ring: #d1d5db;
    --border: #e5e7eb;
    --shadow: 0 8px 24px rgba(0, 0, 0, .06);
    --radius: 16px;
}

/* ========== Layout tá»•ng ========== */
body {
    display: grid;
    grid-template-columns: 280px 1fr;
    /* Sidebar | Main */
    background: var(--bg);
}

/* ========== Sidebar ========== */
.sidebar {
    position: sticky;
    top: 0;
    min-height: 100vh;
    padding: 16px 14px;
    background: var(--surface);
    border-right: 1px solid var(--border);
}

.sidebar__toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border: 1px solid var(--border);
    background: #fff;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: var(--shadow);
}

.sidebar__brand {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 16px 4px 20px;
    text-decoration: none;
    color: var(--text);
    font-weight: 700;
    letter-spacing: .2px;
}

.sidebar__brand svg {
    color: var(--primary);
}

.sidebar__brand-text {
    font-size: 18px;
}

.sidebar__nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    gap: 6px;
}

.sidebar__nav a {
    display: block;
    padding: 10px 12px;
    border-radius: 10px;
    color: var(--text);
    text-decoration: none;
}

.sidebar__nav a:hover {
    background: #f3f4f6;
}

/* ========== Main Learn ========== */
.learn {
    padding: 24px 28px;
}

.learn__header {
    margin-bottom: 16px;
}

.learn__title {
    margin: 0 0 6px 0;
    font-size: 24px;
    font-weight: 800;
    letter-spacing: .3px;
}

.learn__body {
    display: grid;
    grid-template-columns: 220px 1fr;
    /* Emotion list | Media area */
    gap: 18px;
}

/* ========== Cá»™t trÃ¡i: CÃC Cáº¢M XÃšC ========== */
.emotion-list {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 14px;
    box-shadow: var(--shadow);
}

.emotion-list__title {
    margin: 0 0 10px 0;
    font-size: 14px;
    color: var(--muted);
    font-weight: 700;
    letter-spacing: .5px;
}

.emotion-list__items {
    display: grid;
    gap: 8px;
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: calc(100vh - 220px);
    overflow: auto;
}

.emotion-pill {
    width: 100%;
    padding: 10px 12px;
    background: #f8fafc;
    border: 1px solid var(--border);
    color: var(--text);
    border-radius: 999px;
    cursor: pointer;
}

.emotion-pill:hover {
    border-color: #cbd5e1;
    background: #f1f5f9;
}

.emotion-pill[aria-current="true"],
.emotion-pill.active {
    background: #eef2ff;
    border-color: #c7d2fe;
    color: #1e40af;
}

/* ========== Khung media: Video/áº¢nh + mÅ©i tÃªn ========== */
.media-carousel {
    position: relative;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 18px;
    box-shadow: var(--shadow);
    min-height: 520px;
    /* táº¡o khung giá»‘ng wireframe */
    display: grid;
    place-items: center;
}

.media-carousel__stage {
    width: 100%;
    max-width: 980px;
    aspect-ratio: 16/9;
    margin: 0;
    background: #fff;
    border: 2px solid #d4d4d8;
    /* viá»n Ä‘áº­m hÆ¡n Ä‘á»ƒ giá»‘ng khung */
    border-radius: 24px;
    display: grid;
    place-items: center;
    padding: 12px;
}

.media-carousel__video,
.media-carousel__stage img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 18px;
    outline: none;
}

.media-carousel__caption {
    margin-top: 8px;
    font-size: 13px;
    color: var(--muted);
    text-align: center;
}

/* NÃºt mÅ©i tÃªn trÃ¡i/pháº£i */
.media-carousel__nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 44px;
    height: 44px;
    border-radius: 999px;
    border: 1px solid var(--ring);
    background: #fff;
    display: grid;
    place-items: center;
    font-size: 24px;
    line-height: 1;
    cursor: pointer;
    user-select: none;
    box-shadow: var(--shadow);
}

.media-carousel__nav--prev {
    left: 16px;
}

.media-carousel__nav--next {
    right: 16px;
}

.media-carousel__nav:hover {
    background: #f3f4f6;
}

/* Dots (tÃ¹y chá»n) */
.media-carousel__dots {
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 6px;
}

.media-carousel__dots button {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    border: 0;
    background: #d1d5db;
    cursor: pointer;
}

.media-carousel__dots button[aria-current="true"] {
    background: var(--primary);
}

/* ========== Responsive ========== */
@media (max-width: 1080px) {
    .learn__body {
        grid-template-columns: 180px 1fr;
    }
}

@media (max-width: 860px) {
    body {
        grid-template-columns: 72px 1fr;
        /* Sidebar háº¹p */
    }

    .sidebar__brand-text {
        display: none;
    }

    .sidebar__nav a {
        padding: 8px 10px;
        font-size: 14px;
    }

    .learn {
        padding: 18px;
    }
}

@media (max-width: 720px) {
    .learn__body {
        grid-template-columns: 1fr;
        /* Xáº¿p dá»c */
    }

    .emotion-list {
        order: 2;
    }

    .media-carousel {
        order: 1;
        min-height: 420px;
    }
}

/* ===== Icon + mÃ u cho cÃ¡c nÃºt cáº£m xÃºc ===== */
.emotion-pill {
    position: relative;
    padding-left: 40px;
    /* chá»«a chá»— cho icon */
    font-weight: 600;
}

/* Icon máº·c Ä‘á»‹nh (sá»­a theo emotion á»Ÿ dÆ°á»›i) */
.emotion-pill::before {
    content: "ðŸ™‚";
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 18px;
}

/* HAPPY */
.emotion-pill[data-emotion="happy"] {
    background: #fff7cc;
    /* vÃ ng nháº¡t */
    border-color: #fde68a;
    color: #92400e;
}

.emotion-pill[data-emotion="happy"]::before {
    content: "ðŸ˜Š";
}

/* SAD */
.emotion-pill[data-emotion="sad"] {
    background: #e0f2fe;
    /* xanh dÆ°Æ¡ng nháº¡t */
    border-color: #bae6fd;
    color: #0c4a6e;
}

.emotion-pill[data-emotion="sad"]::before {
    content: "ðŸ˜¢";
}

/* ANGRY */
.emotion-pill[data-emotion="angry"] {
    background: #fee2e2;
    /* Ä‘á» nháº¡t */
    border-color: #fecaca;
    color: #7f1d1d;
}

.emotion-pill[data-emotion="angry"]::before {
    content: "ðŸ˜ ";
}

/* FEAR */
.emotion-pill[data-emotion="fear"] {
    background: #ede9fe;
    /* tÃ­m nháº¡t */
    border-color: #ddd6fe;
    color: #4c1d95;
}

.emotion-pill[data-emotion="fear"]::before {
    content: "ðŸ˜¨";
}

/* SURPRISE */
.emotion-pill[data-emotion="surprise"] {
    background: #ffedd5;
    /* cam nháº¡t */
    border-color: #fed7aa;
    color: #7c2d12;
}

.emotion-pill[data-emotion="surprise"]::before {
    content: "ðŸ˜®";
}

/* DISGUST */
.emotion-pill[data-emotion="disgust"] {
    background: #dcfce7;
    /* xanh lÃ¡ nháº¡t */
    border-color: #bbf7d0;
    color: #14532d;
}

.emotion-pill[data-emotion="disgust"]::before {
    content: "ðŸ¤¢";
}

/* NEUTRAL */
.emotion-pill[data-emotion="neutral"] {
    background: #f4f4f5;
    /* xÃ¡m nháº¡t */
    border-color: #e4e4e7;
    color: #3f3f46;
}

.emotion-pill[data-emotion="neutral"]::before {
    content: "ðŸ˜";
}

/* Tráº¡ng thÃ¡i Ä‘ang chá»n */
.emotion-pill.active {
    outline: 2px solid rgba(0, 0, 0, .08);
    filter: saturate(1.1);
}

/* ===== Khung media ná»n tÃ­m ===== */
.media-carousel {
    background: #c28bf2;
    /* tÃ­m (purple-600) */
    border-color: #c28bf2;
}

.media-carousel__stage {
    background: transparent;
    /* trong suá»‘t Ä‘á»ƒ lá»™ ná»n tÃ­m */
    border: 2px solid rgba(255, 255, 255, .4);
}

.media-carousel__caption {
    color: #f3e8ff;
    /* chá»¯ sÃ¡ng trÃªn ná»n tÃ­m */
}

/* NÃºt mÅ©i tÃªn ná»•i báº­t trÃªn ná»n tÃ­m */
.media-carousel__nav {
    background: #ffffff;
    border-color: #e9d5ff;
}

.media-carousel__nav:hover {
    background: #f5f3ff;
}

.media-carousel__stage {
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    overflow: hidden !important;
    aspect-ratio: 16 / 9;
    width: 100%;
    max-width: 980px;
    /* fallback chiá»u cao khi mÃ n hÃ¬nh tháº¥p */
    max-height: min(70vh, 780px);
    background: #0000;
    /* trong suá»‘t Ä‘á»ƒ tháº¥y ná»n tÃ­m */
    border-radius: 24px;
}

/* áº¢nh & Video chiáº¿m trá»n khung, giá»¯ tá»‰ lá»‡ (khÃ´ng crop) */
.media-carousel__stage img,
.media-carousel__video {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    /* Ä‘á»•i tá»« cover -> contain Ä‘á»ƒ khÃ´ng cáº¯t ná»™i dung */
    display: block;
    border-radius: 18px;
    background: #000;
    /* ná»n Ä‘en phÃ­a sau video cho Ä‘áº¹p máº¯t */
    outline: none;
}

/* Náº¿u muá»‘n video luÃ´n full theo chiá»u ngang mÃ  khÃ´ng vÆ°á»£t khung, giá»¯ tá»‰ lá»‡ */
.media-carousel__video {
    max-width: 100%;
    max-height: 100%;
}

/* Thu nhá» khung tá»•ng Ä‘á»ƒ bá»›t â€œÄ‘á»‡mâ€ dá»c, video Ä‘á»¡ cÃ³ cáº£m giÃ¡c nhá» */
.media-carousel {
    padding: 16px !important;
    min-height: unset !important;
    /* bá» min-height cá»‘ Ä‘á»‹nh 520px */
}

/* Responsive tweak: khi mÃ n nhá», Æ°u tiÃªn chiá»u cao há»£p lÃ½ */
@media (max-width: 720px) {
    .media-carousel__stage {
        max-height: 50vh;
        border-radius: 16px;
    }

    .media-carousel__stage img,
    .media-carousel__video {
        border-radius: 12px;
    }
}

/* ====== FIX Cá»°C Máº NH: Video/áº¢nh fill khung chuáº©n 16:9 ====== */

/* Khung ngoÃ i: bá»›t â€œÄ‘á»‡mâ€ Ä‘á»ƒ khung khÃ´ng lÃ m nhá» media */
.media-carousel {
    padding: 12px !important;
    min-height: unset !important;
}

/* Khung stage: tá»± táº¡o tá»· lá»‡ 16:9, bá» padding, cho phÃ©p phá»§ kÃ­n */
.media-carousel__stage {
    position: relative !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 980px !important;
    aspect-ratio: 16 / 9 !important;
    overflow: hidden !important;
    display: block !important;
    /* trÃ¡nh grid/flex áº£nh hÆ°á»Ÿng kÃ­ch thÆ°á»›c con */
    background: transparent !important;
    border-radius: 24px !important;
}

/* Táº¤T Cáº¢ video/img bÃªn trong stage Ä‘á»u bá»‹ Ã©p full khung */
.media-carousel__stage>video,
.media-carousel__stage>img,
.media-carousel__stage video,
.media-carousel__stage img {
    position: absolute !important;
    inset: 0 !important;
    /* top/right/bottom/left = 0 */
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important;
    /* giá»¯ tá»‰ lá»‡, khÃ´ng crop; Ä‘á»•i 'cover' náº¿u muá»‘n trÃ n kÃ­n */
    background: #000 !important;
    /* ná»n Ä‘en cho video Ä‘áº¹p hÆ¡n */
    border-radius: 24px !important;
    outline: none !important;
}

/* NÃšT Ä‘iá»u hÆ°á»›ng ná»•i phÃ­a trÃªn media */
.media-carousel__nav {
    z-index: 2 !important;
}

/* Mobile: giáº£m chiá»u cao cho vá»«a mÃ n */
@media (max-width: 720px) {
    .media-carousel__stage {
        aspect-ratio: 16 / 9 !important;
        max-height: 50vh !important;
        border-radius: 16px !important;
    }

    .media-carousel__stage>video,
    .media-carousel__stage>img,
    .media-carousel__stage video,
    .media-carousel__stage img {
        border-radius: 16px !important;
    }
}